================================================================================
CS124 Face Recognition and Tracking System - Team Setup Guide
================================================================================

Welcome to the project! We've prepared automated setup tools to help you get
started quickly.

================================================================================
ðŸ“¦ TOOLS WE'VE PROVIDED
================================================================================

1. setup.sh - Automated Installation Script
   ----------------------------------------
   Features: One-command setup for everything
   - Auto-detects Python version (requires Python 3.8+)
   - Auto-creates virtual environment (.venv directory)
   - Auto-installs all dependencies (OpenCV, NumPy, etc.)
   - Auto-verifies installation success
   - Provides clear progress indicators and error messages

   Usage:
   macOS/Linux:
     chmod +x setup.sh
     ./setup.sh

   Windows PowerShell:
     python -m venv .venv
     .venv\Scripts\activate
     pip install -r recog\requirements.txt


2. run.sh - Convenience Run Script
   --------------------------------
   Features: Quick system launch
   - Auto-activates virtual environment
   - Starts face recognition system
   - Supports verification mode (check installation)

   Usage:
   Run the system:
     ./run.sh

   Verify installation:
     ./run.sh verify


3. QUICKSTART.md - 5-Minute Quick Start Guide
   -------------------------------------------
   Contents: Minimal steps to get started
   - Prerequisites checklist
   - 3-step installation
   - Detailed running instructions
   - Quick fixes for common issues
   - Project structure overview
   - Code modification and commit workflow


4. TROUBLESHOOTING.md - Detailed Troubleshooting Guide
   ---------------------------------------------------
   Contents: Solutions for 10+ common issues

   Covered problem types:
   âœ“ Python not installed or wrong version
   âœ“ Virtual environment creation fails
   âœ“ pip dependency installation fails
   âœ“ YuNet interface unavailable (OpenCV issue)
   âœ“ Camera won't open (permissions/driver issues)
   âœ“ Module import errors
   âœ“ Model files not found
   âœ“ Performance issues (lag, low FPS)
   âœ“ Script permission problems
   âœ“ Windows/Linux specific issues

   Each problem includes:
   - Error message examples
   - Detailed solution steps
   - Multiple solutions (where applicable)
   - Platform-specific instructions


5. README.md - Complete Project Documentation
   -------------------------------------------
   Contents: Full project documentation
   - Feature overview
   - Quick start guide (points to setup.sh)
   - System architecture explanation
   - Configuration parameter tuning
   - Output structure description
   - Team collaboration section
   - Git workflow


6. verify_setup.py - Installation Verification Script
   ---------------------------------------------------
   Features: Checks if environment is configured correctly
   - Checks Python version
   - Checks all dependencies
   - Checks if OpenCV supports YuNet
   - Checks if model files exist
   - Provides detailed check results


7. CLAUDE.md - Architecture Documentation (for AI assistant)
   ---------------------------------------------------------
   Contents: Detailed technical documentation
   - Complete code architecture description
   - Algorithm implementation details
   - Component functionality descriptions
   - Model file information

================================================================================
ðŸš€ QUICK START (3 STEPS)
================================================================================

First Time Setup:
-----------------

1. Get the code
   git clone <your-repository-URL>
   cd CS124HFA2025

2. Automated installation (wait 2-3 minutes)
   ./setup.sh

   This script will:
   âœ“ Check Python (requires 3.8+)
   âœ“ Create virtual environment
   âœ“ Install all dependencies (~100MB download)
   âœ“ Verify successful installation

3. Run the system
   source .venv/bin/activate
   ./run.sh

   Success = You see webcam feed with face boxes!
   Press 'q' to quit


Daily Usage:
------------

Each time you want to run:
  source .venv/bin/activate  # Activate virtual environment
  ./run.sh                   # Run the system

Or directly:
  cd recog
  python main.py

================================================================================
ðŸ’¡ SYSTEM FEATURES
================================================================================

What this system does:

1. Face Detection
   - Uses YuNet detector
   - Real-time face detection in video
   - Extracts facial landmarks (eyes, nose, mouth positions)

2. Face Recognition
   - Uses SFace recognizer
   - Extracts 128-dimensional feature vector for each face
   - Recognizes same person through feature similarity

3. Intelligent Tracking
   - Hybrid tracking algorithm: position (30%) + features (70%)
   - Same person maintains same ID throughout video
   - Even if person temporarily leaves frame, re-entering = same ID

4. Automated Output
   - Automatically creates separate folder for each person
   - Saves all face crops for that person
   - Generates metadata JSON (timestamps, bounding boxes)

Core Advantages:
----------------
âœ“ No model training needed (pre-trained models included)
âœ“ Real-time processing (webcam input)
âœ“ Auto-organized output (classified by person)
âœ“ Cross-platform support (macOS/Windows/Linux)

================================================================================
ðŸ“ PROJECT STRUCTURE
================================================================================

CS124HFA2025/
â”‚
â”œâ”€â”€ setup.sh                    # Automated installation script
â”œâ”€â”€ run.sh                      # Run script
â”‚
â”œâ”€â”€ README.md                   # Complete project documentation
â”œâ”€â”€ QUICKSTART.md               # 5-minute quick start
â”œâ”€â”€ TROUBLESHOOTING.md          # Troubleshooting guide
â”œâ”€â”€ SETUP_INSTRUCTIONS.txt      # This file (setup instructions)
â”œâ”€â”€ CLAUDE.md                   # Architecture documentation
â”‚
â”œâ”€â”€ recog/                      # Main program directory
â”‚   â”œâ”€â”€ main.py                 # Entry point (main detection loop)
â”‚   â”œâ”€â”€ centroid_tracker.py     # Tracking algorithm implementation
â”‚   â”œâ”€â”€ utils.py                # Utility functions
â”‚   â”œâ”€â”€ verify_setup.py         # Installation verification script
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                 # Pre-trained models (included)
â”‚   â”‚   â”œâ”€â”€ face_detection_yunet.onnx         # 227KB
â”‚   â”‚   â””â”€â”€ face_recognition_sface_2021dec.onnx # 37MB
â”‚   â”‚
â”‚   â”œâ”€â”€ output/                 # Output directory (auto-generated)
â”‚   â”‚   â”œâ”€â”€ person_000/
â”‚   â”‚   â”‚   â”œâ”€â”€ 000000.jpg
â”‚   â”‚   â”‚   â”œâ”€â”€ 000005.jpg
â”‚   â”‚   â”‚   â””â”€â”€ metadata.json
â”‚   â”‚   â”œâ”€â”€ person_001/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â””â”€â”€ requirements.txt        # Python dependency list
â”‚
â””â”€â”€ .venv/                      # Virtual environment (created by setup.sh)

================================================================================
ðŸ› ï¸ QUICK PROBLEM SOLVING
================================================================================

Problem 1: "python3: command not found"
Solution: Install Python
          macOS: brew install python3
          Windows: https://www.python.org/downloads/
          Linux: sudo apt install python3 python3-pip

Problem 2: "Virtual environment not found"
Solution: Run ./setup.sh to create virtual environment

Problem 3: "Module not found: cv2"
Solution: Make sure virtual environment is activated
          source .venv/bin/activate
          You should see (.venv) prefix in your prompt

Problem 4: "Camera won't open"
Solution: - Check camera permissions in System Preferences/Settings
          - Make sure no other app is using the camera
          - Try changing camera index in main.py

Problem 5: "YuNet interface not available"
Solution: pip install opencv-contrib-python>=4.8.0

More issues? See TROUBLESHOOTING.md

================================================================================
ðŸ“ DEVELOPMENT WORKFLOW
================================================================================

1. Update code
   git pull

2. Activate environment
   source .venv/bin/activate

3. Modify code
   (use your favorite editor)

4. Test run
   ./run.sh

5. Commit code
   git add .
   git commit -m "Description of changes"
   git push

Recommended branching strategy:
  - main branch: stable version
  - feature/* branches: new feature development
  - bugfix/* branches: bug fixes

================================================================================
ðŸŽ¯ KEY CONFIGURATION PARAMETERS
================================================================================

Adjustable parameters in main.py (lines 40-44):

CentroidTracker(
    max_disappeared=50,          # Frames before removing ID (higher = more persistent)
    max_distance=150,            # Max pixel distance for position matching
    min_feature_similarity=0.4   # Min similarity for feature matching (0-1)
)

Save frequency (around line 140):
  if frame_count % 5 == 0:       # Save every 5 frames
                                 # Change to 10 to reduce output files

Video source (line 147):
  run(source=0)                  # 0=default camera, 1=second camera
  run("path/to/video.mp4")       # Use video file

================================================================================
ðŸ“š RECOMMENDED READING ORDER
================================================================================

1. QUICKSTART.md       - Get started quickly
2. README.md           - Understand full functionality
3. main.py             - See main program flow
4. centroid_tracker.py - Understand tracking algorithm
5. TROUBLESHOOTING.md  - Refer when you have issues
6. CLAUDE.md           - Deep dive into architecture

================================================================================
âœ… INSTALLATION SUCCESS INDICATORS
================================================================================

You've successfully installed when you see:

1. After running ./setup.sh:
   âœ“ Setup completed successfully!

2. After running ./run.sh verify:
   âœ“ Python version: 3.x
   âœ“ opencv-python installed
   âœ“ opencv-contrib-python installed
   âœ“ YuNet interface available
   âœ“ Models found

3. After running ./run.sh:
   - Webcam window appears
   - Green boxes around faces
   - Shows person_000, etc. IDs

================================================================================
ðŸ¤ TEAM COLLABORATION TIPS
================================================================================

- All code comments in English (for team collaboration)
- git pull before committing to get latest code
- Clear commit messages describing changes
- Check TROUBLESHOOTING.md first when you have issues
- Create new branch for major feature changes
- Sync code regularly to avoid conflicts

================================================================================
ðŸ†˜ GETTING HELP
================================================================================

1. Check documentation:
   - TROUBLESHOOTING.md (common issues)
   - README.md (complete docs)
   - QUICKSTART.md (quick start)

2. Verify installation:
   ./run.sh verify

3. Contact team members

4. Check error logs:
   python recog/main.py 2>&1 | tee debug.log

================================================================================
ðŸ“Š SYSTEM REQUIREMENTS
================================================================================

Minimum:
- Python 3.8+
- 4GB RAM
- Webcam (or video file)
- 200MB disk space

Recommended:
- Python 3.10+
- 8GB RAM
- HD webcam
- SSD drive

Supported operating systems:
- macOS 10.13+
- Windows 10+
- Ubuntu 20.04+ / Debian 10+

================================================================================
ðŸŽ“ ADDITIONAL LEARNING RESOURCES
================================================================================

If you want to learn more about the technical details:

- OpenCV documentation: https://docs.opencv.org/
- YuNet paper: Face detection algorithm
- SFace paper: Face recognition algorithm
- Multi-object tracking: SORT/DeepSORT algorithms

Key technologies in this project:
- Computer Vision
- Face Detection
- Face Recognition
- Object Tracking
- Feature Extraction
- Cosine Similarity

================================================================================

Last updated: 2025-12-03
For questions or suggestions, contact the project team

Happy coding! ðŸŽ‰

================================================================================
